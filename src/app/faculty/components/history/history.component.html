<div class="history-container">
  <div class="heading">
    <p>View your <b>saved and download history.</b></p>
  </div>
  <div class="search">
    <input
      matInput
      (keyup)="applyFilter($event)"
      placeholder="Search here..."
      #input
    />
  </div>
  <div class="table">
    <mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8">
      <!-- Input Column -->
      <ng-container matColumnDef="date">
        <mat-header-cell *matHeaderCellDef mat-sort-header id="data-table"
          >Date</mat-header-cell
        >
        <mat-cell
          *matCellDef="let row; let i = index"
          [ngClass]="i % 2 === 0 ? 'even-row' : 'odd-row'"
          id="data-table"
          >{{ row.modifiedAt | date : "MM-dd-YYYY" || "-" }}</mat-cell
        >
      </ng-container>
      <!-- Input Column -->
      <ng-container matColumnDef="input">
        <mat-header-cell *matHeaderCellDef mat-sort-header
          >Input</mat-header-cell
        >
        <mat-cell
          *matCellDef="let row; let i = index"
          [ngClass]="i % 2 === 0 ? 'even-row' : 'odd-row'"
          >{{ row.keywords }}</mat-cell
        >
      </ng-container>

      <!-- Question Column -->
      <ng-container matColumnDef="question">
        <mat-header-cell *matHeaderCellDef mat-sort-header id="question-table"
          >From</mat-header-cell
        >
        <mat-cell
          *matCellDef="let row; let i = index"
          [ngClass]="i % 2 === 0 ? 'even-row' : 'odd-row'"
          id="question-table"
          >{{ row.type }}</mat-cell
        >
      </ng-container>

      <!-- From Column -->
      <ng-container matColumnDef="from">
        <mat-header-cell *matHeaderCellDef mat-sort-header id="from-table"
          >Question</mat-header-cell
        >
        <mat-cell
          *matCellDef="let row; let i = index"
          [ngClass]="i % 2 === 0 ? 'even-row' : 'odd-row'"
          id="from-table"
          >{{ row.questionsCount || "1" }}</mat-cell
        >
      </ng-container>

      <!-- Action Column -->
      <ng-container matColumnDef="action">
        <mat-header-cell *matHeaderCellDef mat-sort-header id="export-table"
          >Export</mat-header-cell
        >
        <mat-cell
          *matCellDef="let row; let i = index"
          [ngClass]="i % 2 === 0 ? 'even-row' : 'odd-row'"
          id="export-table"
        >
          <mat-icon
            *ngIf="row.pdfStatus !== 'COMPLETED'"
            class="export-icon"
            (click)="getPdf(row)"
            >save_alt</mat-icon
          >
          <mat-icon
            *ngIf="row.pdfStatus === 'COMPLETED'"
            class="export-icon-sucess"
            matTooltip="Exported"
            >check_circle</mat-icon
          >
        </mat-cell>
      </ng-container>

      <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
      <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
    </mat-table>

    <mat-paginator
      [pageSizeOptions]="[5, 10, 25, 100]"
      [pageSize]="5"
      [pageIndex]="0"
    ></mat-paginator>
  </div>
</div>
