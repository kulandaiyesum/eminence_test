<div class="container">
  <div class="form_crud">
    <mat-icon
      class="close_btn"
      mat-icon-button
      [routerLink]="['/login']"
      (click)="closeDialog()"
      >close</mat-icon
    >
    <form #registrationForm="ngForm">
      <div class="form_wrap">
        <div class="form_heading">REGISTER ACCOUNT</div>

        <div class="tier_info_section">
          <div
            class="form-Group ratio_group"
            *ngFor="let package of b2cPackages"
          >
            <label for="premium" class="label_flex">
              <!-- <input type="radio" id="premium" checked /> -->
              <!-- <span class="tier_info">{{ package.packageName }}</span> -->
            </label>
            <!-- <div class="description">{{ package.questionsCount }}</div> -->
            <div class="price-options">
              <label for="price">
                <input
                  type="radio"
                  name="price"
                  id="price"
                  [value]="package._id"
                  [(ngModel)]="registerModel.pacakageId"
                />
                {{ package.amount }} / {{ package.durationType }}
              </label>
            </div>
          </div>
        </div>

        <!-- <form #registrationForm="ngForm" (ngSubmit)="onRegistrationSubmit()"> -->
        <div class="form-names">
          <div class="form-group">
            <label for="firstName">First Name</label>
            <br />
            <input
              type="text"
              id="firstName"
              name="firstName"
              [(ngModel)]="registerModel.firstName"
              required
              #firstName="ngModel"
            />
            <div
              *ngIf="
                firstName.invalid && (firstName.dirty || firstName.touched)
              "
            >
              <div *ngIf="firstName.errors?.['required']" id="error-message">
                First Name is required
              </div>
            </div>
          </div>
          <div class="form-group">
            <label for="lastName">Last Name</label>
            <br />
            <input
              type="text"
              id="lastName"
              name="lastName"
              [(ngModel)]="registerModel.lastName"
              required
              #lastName="ngModel"
            />
            <div
              *ngIf="lastName.invalid && (lastName.dirty || lastName.touched)"
            >
              <div *ngIf="lastName.errors?.['required']" id="error-message">
                Last Name is required
              </div>
            </div>
          </div>
        </div>

        <div class="form-group">
          <label for="institutionName">Institution Name</label>
          <br />
          <input
            type="text"
            id="institutionName"
            name="institutionName"
            [(ngModel)]="registerModel.institutionName"
            required
            #institutionName="ngModel"
          />
          <div
            *ngIf="
              institutionName.invalid &&
              (institutionName.dirty || institutionName.touched)
            "
          >
            <div
              *ngIf="institutionName.errors?.['required']"
              id="error-message"
            >
              Institution Name is required
            </div>
          </div>
        </div>

        <div class="form-group">
          <label for="email">Email</label>
          <br />
          <input
            type="email"
            id="email"
            name="email"
            [(ngModel)]="registerModel.email"
            required
            email
            #email="ngModel"
          />
          <div *ngIf="email.invalid && (email.dirty || email.touched)">
            <div *ngIf="email.errors?.['required']" id="error-message">
              Email is required
            </div>
            <div *ngIf="email.errors?.['email']" id="error-message">
              Invalid email format
            </div>
          </div>
        </div>

        <div class="form-group">
          <label for="password">Password</label>
          <br />
          <input
            type="password"
            id="password"
            name="password"
            [(ngModel)]="registerModel.password"
            required
            #password="ngModel"
          />
          <div *ngIf="password.invalid && (password.dirty || password.touched)">
            <div *ngIf="password.errors?.['required']" id="error-message">
              Password is required
            </div>
          </div>
        </div>

        <div class="form_btns">
          <button
            type="submit"
            class="form_btn_continue"
            (click)="onRegistrationSubmit()"
            [disabled]="!registrationForm.valid"
          >
            Continue to Checkout
          </button>
          <br />
          <button
            type="button"
            class="form_btn_login"
            (click)="openLoginPopUp()"
          >
            Login
          </button>
        </div>
        <!-- </form> -->
      </div>
    </form>
  </div>
</div>
