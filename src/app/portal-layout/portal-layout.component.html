<mat-sidenav-container class="sidenav-container">
  <mat-sidenav
    #drawer
    class="sidenav"
    fixedInViewport
    [attr.role]="(isHandset$ | async) ? 'dialog' : 'navigation'"
    [mode]="(isHandset$ | async) ? 'over' : 'side'"
    [opened]="(isHandset$ | async) === false"
  >
    <mat-toolbar class="logo_navigation">
      <img
        src="../../assets/images/Eminence_logo.png"
        width="40"
        height="40"
        alt="logo"
      />
      <span class="logo_head">Eminence</span>
      <div class="icon_back" (click)="drawer.toggle()" (click)="toggleMenu()">
        <img
          src="../../assets/images/back-button.png"
          alt="back-button"
          width="24"
          height="24"
        />
      </div>
    </mat-toolbar>
    <div class="navigation_links">
      <a
        *ngFor="let link of links"
        [routerLink]="link.routerLink"
        routerLinkActive="activelink"
      >
        <div *ngIf="link.icon" class="icon_route">
          <span>{{ link.label }}</span>
          <mat-icon>{{ link.icon }}</mat-icon>
        </div>
        <div *ngIf="!link.icon">{{ link.label }}</div>
      </a>
    </div>
    <div class="help-report-error" *ngIf="!isAdmin()" class="bottom-left-icon">
      <mat-icon>help</mat-icon>
      <span *ngIf="!isVetter()" (click)="helpPopUp()">Help / Report Error</span>
      <span *ngIf="isVetter()" (click)="helpPopUp()">Help</span>
    </div>
  </mat-sidenav>
  <mat-sidenav-content>
    <mat-toolbar>
      <button
        type="button"
        aria-label="Toggle sidenav"
        mat-icon-button
        (click)="drawer.toggle()"
        (click)="hideMenu()"
        *ngIf="showToggleButton || (isHandset$ | async)"
      >
        <mat-icon aria-label="Side nav toggle icon">menu</mat-icon>
      </button>

      <div class="h3 ms-lg-3 mb-0">Welcome, {{ firstName | titlecase }}</div>
      <mat-icon
        class="user_account"
        *ngIf="isExamAttending === 'true'"
        [matMenuTriggerFor]="menu"
        >account_circle</mat-icon
      >
      <mat-menu #menu="matMenu">
        <button mat-menu-item (click)="openProfile()">
          User profile <mat-icon>account_box</mat-icon>
        </button>
        <button mat-menu-item (click)="logout()">
          Logout <mat-icon>exit_to_app</mat-icon>
        </button>
      </mat-menu>
    </mat-toolbar>
    <!-- Child routes for admin, faculty, vetter and Registered User -->
    <div
      *ngIf="!isFaculty()"
      [ngClass]="{
        route_container: !pathMatch,
        faculty_route_container: pathMatch
      }"
    >
      <router-outlet></router-outlet>
    </div>
    <div *ngIf="isFaculty()" class="faculty_route_container">
      <router-outlet></router-outlet>
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>
