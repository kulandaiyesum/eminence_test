<div class="build-test-container" #scrollContainer>
  <div class="main">
    <div class="questons-container">
      <div class="qbank">
        <mat-radio-group aria-label="Select an option">
          <mat-radio-button value="1">Eminence QBank</mat-radio-button>
        </mat-radio-group>
        <section class="checkbox">
          <mat-checkbox class="example-margin">Unused</mat-checkbox>
          <mat-checkbox class="example-margin">Incorrect</mat-checkbox>
          <mat-checkbox class="example-margin">Flagged</mat-checkbox>
          <mat-checkbox class="example-margin" (change)="selectAll($event)"
            >All</mat-checkbox
          >
        </section>
        <section class="dropdown">
          <!-- <mat-form-field appearance="outline">
            <mat-label>Subject</mat-label>
            <mat-select placeholder="Choose subject">
              <mat-option
                *ngFor="let subject of subjects"
                [value]="subject._id"
                >{{ subject.subject }}</mat-option
              >
            </mat-select>
          </mat-form-field> -->
          <mat-form-field appearance="outline">
            <mat-label>Subject</mat-label>
            <input
              matInput
              placeholder="Choose subject"
              [matAutocomplete]="auto"
              (input)="filterSubjects($event)"
            />
            <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayFn">
              <mat-option
                *ngFor="let subject of filteredSubjectss"
                [value]="subject"
                (onSelectionChange)="onSubjectSelected($event)"
              >
                {{ subject.subject }}
              </mat-option>
            </mat-autocomplete>
          </mat-form-field>

          <!-- <mat-form-field appearance="outline">
            <mat-label>System</mat-label>
            <input
              matInput
              placeholder="Choose system"
              [matAutocomplete]="auto1"
              formControl="selectedSystemControl"
            />
            <mat-autocomplete #auto1="matAutocomplete">
              <mat-option
                *ngFor="let system of filteredSystems | async"
                [value]="system.system"
              >
                {{ system.system }}
              </mat-option>
            </mat-autocomplete>
          </mat-form-field> -->



          <mat-form-field appearance="outline">
            <mat-label>Choose a subject</mat-label>
            <input type="text" matInput [formControl]="systemControl" [matAutocomplete]="auto1">
            <mat-autocomplete #auto1="matAutocomplete" (optionSelected)="onOptionSelected($event)">
              <mat-option *ngFor="let item of filteredSystemList | async" [value]="item.system">
                {{ item.system }}
              </mat-option>
            </mat-autocomplete>
          </mat-form-field>




          <!-- <mat-form-field appearance="outline">
            <mat-label>Sub System</mat-label>
            <mat-select placeholder="Choose Sub system">
              <mat-option value="all">All</mat-option>
              <mat-option
                *ngFor="let system of subsystemOptions"
                [value]="system._id"
                >{{ system.subSystem }}</mat-option
              >
            </mat-select>
          </mat-form-field> -->

          <mat-form-field appearance="outline">
            <mat-label>Sub System</mat-label>
            <input type="text" matInput placeholder="Choose Sub system" [matAutocomplete]="autoSubSystem" [formControl]="subSystemControl">
            <mat-autocomplete #autoSubSystem="matAutocomplete" (optionSelected)="onSubSystemSelected($event)">

              <mat-option *ngFor="let system of filteredSubSystemOptions | async" [value]="system.subSystem">
                {{ system.subSystem }}
              </mat-option>
            </mat-autocomplete>
          </mat-form-field>



        </section>
        <section class="subsytem-dropdown"></section>
      </div>
      <div class="qgen">
        <mat-radio-group aria-label="Select an option">
          <mat-radio-button value="1">QGen: Generate your own</mat-radio-button>
        </mat-radio-group>
        <div class="recommendations">
          <div class="recommendations-area" #scrollExplanationContainer>
            <h6>Recommended for you</h6>
            <p>Needs more practice</p>
            <div class="chips">
              <mat-chip>renal cell carcinoma</mat-chip>
              <mat-chip>Barrett's esophagus</mat-chip>
              <mat-chip>pulmonary circulation</mat-chip>
              <mat-chip>adrenal glands</mat-chip>
              <mat-chip>Valvular disorder</mat-chip>
            </div>
            <p id="while">Haven't seen in a while</p>
            <div class="chips">
              <mat-chip>renal cell carcinoma</mat-chip>
              <mat-chip>Valvular disorder</mat-chip>
              <mat-chip>Valvular disorder</mat-chip>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="controls">
      <div class="button-area">
        <div class="toggles">
          <mat-slide-toggle id="tutor">Tutor</mat-slide-toggle>
          <mat-slide-toggle id="timed">Timed</mat-slide-toggle>
        </div>
        <div class="input-area">
          <label for="questions" id="main-label">Number of Questions:</label>
          <input
            type="text"
            id="questions"
            name="questions"
            placeholder="Max 10"
          />
        </div>
        <button>Build</button>
      </div>
    </div>
  </div>
</div>
